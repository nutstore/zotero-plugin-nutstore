<head>
  <html:link rel="localization"
             href="__addonRef__-preferences.ftl" />
  <html:link rel="stylesheet"
             type="text/css"
             href="chrome://__addonRef__/content/css/output.css" />
</head>

<groupbox onload="Zotero.__addonInstance__.hooks.onPrefsEvent('load', { window });">
  <groupbox id="__addonRef__-disabled-storage-warning-groupbox">
    <hbox id="__addonRef__-disabled-storage-warning-container"
          class="mb-4">
      <p data-l10n-id="pref-disabled-storage-warning"
         class="py-1 px-2 rounded-full bg-primary ">
      </p>
    </hbox>
    <vbox>
      <html:h3 data-l10n-id="pref-enabled-storage-guide"
               class="mb-4"></html:h3>
      <vbox>
        <html:ol class="text-gray-500 ps-5 space-y-2 my-2">
          <html:li>
            <html:span data-l10n-id="pref-enabled-storage-guide-step-1"></html:span>
          </html:li>
          <html:li>
            <html:span data-l10n-id="pref-enabled-storage-guide-step-2"></html:span>
          </html:li>
          <html:li>
            <html:span data-l10n-id="pref-enabled-storage-guide-step-3"></html:span>
          </html:li>
        </html:ol>
      </vbox>
      <vbox>
        <image src="chrome://__addonRef__/content/images/nutstore_zotero_sync_pic@2x.png"
               alt="nutstore-sync-guide"
               class="w-[360px] h-[328px]" />
      </vbox>
    </vbox>
  </groupbox>


  <groupbox id="__addonRef__-sso-groupbox"
            class="hidden">
    <label>
      <html:h2 data-l10n-id="pref-sso-title"
               class="my-1"></html:h2>
    </label>
    <hbox id="__addonRef__-sso-button-container"
          align="center">
      <button id="__addonRef__-sso-login"
              data-l10n-id="pref-sso-login-button"></button>
    </hbox>
    <vbox id="__addonRef__-authorized-container">
      <hbox class="flex gap-1 mt-1 items-center">
        <label id="__addonRef__-sso-username"
               data-l10n-id="pref-sso-username-label"
               data-l10n-args="{ 'username': 'username' }"></label>
        <button id="__addonRef__-sso-logout"
                data-l10n-id="pref-sso-logout-button"></button>
      </hbox>
      <html:div id="__addonRef__-nutstore-webdav-setting-container">
        <hbox class="flex gap-1 mt-1 items-center">
          <hbox class="flex items-center"
                id="__addonRef__-current-nutstore-webdav-success-container"
                hidden="true">
            <label id="__addonRef__-current-nutstore-webdav-success"
                   data-l10n-id="pref-current-nutstore-webdav-success"></label>
            <span class="w-5 h-5 icon-[lucide--check] text-green-500"></span>
          </hbox>
          <hbox class="flex items-center"
                id="__addonRef__-current-nutstore-webdav-error-container">
            <label id="__addonRef__-current-nutstore-webdav-error"
                   data-l10n-id="pref-current-nutstore-webdav-error"></label>
            <span class="w-5 h-5 icon-[lucide--x] text-red-500"></span>
          </hbox>

          <button id="__addonRef__-force-fix-nutstore-webdav-button"
                  data-l10n-id="pref-force-fix-nutstore-webdav-button"></button>
        </hbox>
        <p class="text-xs text-gray-400 mt-4">登录坚果云之后你仍需要登录 Zotero 才能开启同步</p>
      </html:div>


    </vbox>
  </groupbox>

  <groupbox id="__addonRef__-enhanced-webdav-groupbox"
            class="hidden">
    <label>
      <html:div data-l10n-id="pref-enhanced-webdav-title"
                class="my-1 font-semibold text-[14px]"></html:div>
    </label>
    <vbox id="__addonRef__-enhanced-webdav-container">
      <hbox class="flex gap-1 mt-1 items-center">
        <label id="__addonRef__-enhanced-webdav-username"
               data-l10n-id="pref-enhanced-webdav-username-label"
               data-l10n-args="{ 'username': 'username' }"></label>
        <button id="__addonRef__-enhanced-webdav-server-verify-button"
                data-l10n-id="pref-enhanced-webdav-server-verify-button"></button>
        <button id="__addonRef__-enhanced-webdav-server-fix-button"
                data-l10n-id="pref-enhanced-webdav-server-fix-button"></button>
      </hbox>
    </vbox>
    <p class="text-xs text-gray-400 mt-4">
      <html:span data-l10n-id="pref-enhanced-webdav-description"></html:span>
    </p>
  </groupbox>
</groupbox>
